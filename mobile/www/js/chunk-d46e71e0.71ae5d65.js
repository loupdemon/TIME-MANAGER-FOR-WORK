(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d46e71e0"],{9062:function(e,t,n){!function(t,a){e.exports=a(n("7a23"))}(0,(function(e){return(()=>{"use strict";var t={982:t=>{t.exports=e}},n={};function a(e){var r=n[e];if(void 0!==r)return r.exports;var c=n[e]={exports:{}};return t[e](c,c.exports,a),c.exports}a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{a.r(r),a.d(r,{default:()=>j,useLoading:()=>O});var e=a(982);const t="undefined"!=typeof window?window.HTMLElement:Object,n={class:"vld-icon"},c={mounted(){this.enforceFocus&&document.addEventListener("focusin",this.focusIn)},methods:{focusIn(e){if(!this.isActive)return;if(e.target===this.$refs.root||this.$refs.root.contains(e.target))return;let t=this.container?this.container:this.isFullPage?null:this.$refs.root.parentElement;(this.isFullPage||t&&t.contains(e.target))&&(e.preventDefault(),this.$refs.root.focus())}},beforeUnmount(){document.removeEventListener("focusin",this.focusIn)}},o=(0,e.createVNode)("g",{fill:"none","fill-rule":"evenodd"},[(0,e.createVNode)("g",{transform:"translate(1 1)","stroke-width":"2"},[(0,e.createVNode)("circle",{"stroke-opacity":".25",cx:"18",cy:"18",r:"18"}),(0,e.createVNode)("path",{d:"M36 18c0-9.94-8.06-18-18-18"},[(0,e.createVNode)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.8s",repeatCount:"indefinite"})])])],-1),i=(0,e.defineComponent)({name:"spinner",props:{color:{type:String,default:"#000"},height:{type:Number,default:64},width:{type:Number,default:64}}});i.render=function(t,n,a,r,c,i){return(0,e.openBlock)(),(0,e.createBlock)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",width:t.width,height:t.height,stroke:t.color},[o],8,["width","height","stroke"])};const s=i,l=(0,e.createVNode)("circle",{cx:"15",cy:"15",r:"15"},[(0,e.createVNode)("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),(0,e.createVNode)("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1),d=(0,e.createVNode)("circle",{cx:"60",cy:"15",r:"9","fill-opacity":"0.3"},[(0,e.createVNode)("animate",{attributeName:"r",from:"9",to:"9",begin:"0s",dur:"0.8s",values:"9;15;9",calcMode:"linear",repeatCount:"indefinite"}),(0,e.createVNode)("animate",{attributeName:"fill-opacity",from:"0.5",to:"0.5",begin:"0s",dur:"0.8s",values:".5;1;.5",calcMode:"linear",repeatCount:"indefinite"})],-1),u=(0,e.createVNode)("circle",{cx:"105",cy:"15",r:"15"},[(0,e.createVNode)("animate",{attributeName:"r",from:"15",to:"15",begin:"0s",dur:"0.8s",values:"15;9;15",calcMode:"linear",repeatCount:"indefinite"}),(0,e.createVNode)("animate",{attributeName:"fill-opacity",from:"1",to:"1",begin:"0s",dur:"0.8s",values:"1;.5;1",calcMode:"linear",repeatCount:"indefinite"})],-1),m=(0,e.defineComponent)({name:"dots",props:{color:{type:String,default:"#000"},height:{type:Number,default:240},width:{type:Number,default:60}}});m.render=function(t,n,a,r,c,o){return(0,e.openBlock)(),(0,e.createBlock)("svg",{viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",fill:t.color,width:t.width,height:t.height},[l,d,u],8,["fill","width","height"])};const h=m,p=(0,e.createVNode)("rect",{x:"0",y:"13",width:"4",height:"5"},[(0,e.createVNode)("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0s",dur:"0.6s",repeatCount:"indefinite"}),(0,e.createVNode)("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0s",dur:"0.6s",repeatCount:"indefinite"})],-1),b=(0,e.createVNode)("rect",{x:"10",y:"13",width:"4",height:"5"},[(0,e.createVNode)("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"}),(0,e.createVNode)("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.15s",dur:"0.6s",repeatCount:"indefinite"})],-1),g=(0,e.createVNode)("rect",{x:"20",y:"13",width:"4",height:"5"},[(0,e.createVNode)("animate",{attributeName:"height",attributeType:"XML",values:"5;21;5",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"}),(0,e.createVNode)("animate",{attributeName:"y",attributeType:"XML",values:"13; 5; 13",begin:"0.3s",dur:"0.6s",repeatCount:"indefinite"})],-1),f=(0,e.defineComponent)({name:"bars",props:{color:{type:String,default:"#000"},height:{type:Number,default:40},width:{type:Number,default:40}}});f.render=function(t,n,a,r,c,o){return(0,e.openBlock)(),(0,e.createBlock)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",height:t.height,width:t.width,fill:t.color},[p,b,g],8,["height","width","fill"])};const k={Spinner:s,Dots:h,Bars:f},y=(0,e.defineComponent)({name:"vue-loading",mixins:[c],props:{active:Boolean,programmatic:Boolean,container:[Object,Function,t],isFullPage:{type:Boolean,default:!0},enforceFocus:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!1},transition:{type:String,default:"fade"},canCancel:Boolean,onCancel:{type:Function,default:()=>{}},color:String,backgroundColor:String,blur:{type:String,default:"2px"},opacity:Number,width:Number,height:Number,zIndex:Number,loader:{type:String,default:"spinner"}},emits:["hide","update:active"],data(){return{isActive:this.active}},components:k,mounted(){document.addEventListener("keyup",this.keyPress)},methods:{cancel(){this.canCancel&&this.isActive&&(this.hide(),this.onCancel.apply(null,arguments))},hide(){this.$emit("hide"),this.$emit("update:active",!1),this.programmatic&&(this.isActive=!1,setTimeout(()=>{const t=this.$refs.root.parentElement;var n,a;(0,e.render)(null,t),void 0!==(n=t).remove?n.remove():null===(a=n.parentNode)||void 0===a||a.removeChild(n)},150))},disableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.add("vld-shown")},enableScroll(){this.isFullPage&&this.lockScroll&&document.body.classList.remove("vld-shown")},keyPress(e){27===e.keyCode&&this.cancel()}},watch:{active(e){this.isActive=e},isActive(e){e?this.disableScroll():this.enableScroll()}},computed:{bgStyle(){return{background:this.backgroundColor,opacity:this.opacity,backdropFilter:`blur(${this.blur})`}}},beforeUnmount(){document.removeEventListener("keyup",this.keyPress)}});y.render=function(t,a,r,c,o,i){return(0,e.openBlock)(),(0,e.createBlock)(e.Transition,{ref:"root",name:t.transition},{default:(0,e.withCtx)(()=>[(0,e.withDirectives)((0,e.createVNode)("div",{tabindex:"0",class:["vld-overlay is-active",{"is-full-page":t.isFullPage}],"aria-busy":t.isActive,"aria-label":"Loading",style:{zIndex:t.zIndex}},[(0,e.createVNode)("div",{class:"vld-background",onClick:a[1]||(a[1]=(0,e.withModifiers)((...e)=>t.cancel&&t.cancel(...e),["prevent"])),style:t.bgStyle},null,4),(0,e.createVNode)("div",n,[(0,e.renderSlot)(t.$slots,"before"),(0,e.renderSlot)(t.$slots,"default",{},()=>[((0,e.openBlock)(),(0,e.createBlock)((0,e.resolveDynamicComponent)(t.loader),{color:t.color,width:t.width,height:t.height},null,8,["color","width","height"]))]),(0,e.renderSlot)(t.$slots,"after")])],14,["aria-busy"]),[[e.vShow,t.isActive]])]),_:3},8,["name"])};const v=y;function O(t={},n={}){return{show(a=t,r=n){const c=Object.assign({},t,a,{programmatic:!0,lockScroll:!0,isFullPage:!1,active:!0});let o=c.container;c.container||(o=document.body,c.isFullPage=!0);const i=Object.assign({},n,r);return{hide:function(t,n,a,r={}){const c=(0,e.h)(t,n,r),o=document.createElement("div");return o.classList.add("vld-container"),a.appendChild(o),(0,e.render)(c,o),c.component}(v,c,o,i).ctx.hide}}}}v.install=(e,t={},n={})=>{const a=O(t,n);e.config.globalProperties.$loading=a,e.provide("$loading",a)};const j=v})(),r.default})()}))},a265:function(e,t,n){"use strict";var a=n("7a23"),r={class:"main__container"},c=Object(a["createElementVNode"])("div",{class:"error__content flex flex-col items-center mb-8"},[Object(a["createElementVNode"])("h3",{class:"view-title"},"403 Forbidden"),Object(a["createElementVNode"])("span",{class:"text-center mb-5"},"You're not authorized to view this page."),Object(a["createElementVNode"])("img",{src:"https://media1.giphy.com/media/zCpYQh5YVhdI1rVYpE/giphy.gif",alt:"Unauthorized Image"})],-1),o=[c];function i(e,t,n,c,i,s){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,o)}var s={name:"Unauthorized"},l=n("6b0d"),d=n.n(l);const u=d()(s,[["render",i]]);t["a"]=u},c915:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r={key:0,class:"main__container"},c={class:"view-title"},o={key:0},i={key:1},s={class:"attendance__week mt-5 mb-3"},l=Object(a["createElementVNode"])("span",{class:"font-xl font-bold"},"Your week's clocking history",-1),d={class:"attendance__clocking__history mt-5 mb-3 flex flex-col"},u=Object(a["createElementVNode"])("span",{class:"font-xl font-bold mb-3"},"Latest clocking history",-1);function m(e,t,n,m,h,p){var b=Object(a["resolveComponent"])("LatestAttendance"),g=Object(a["resolveComponent"])("AttendanceList"),f=Object(a["resolveComponent"])("ClockingHistory"),k=Object(a["resolveComponent"])("Unauthorized");return this.$route.params.id&&"Manager"!==this.$store.state.user.role&&"General Manager"!==this.$store.state.user.role?(Object(a["openBlock"])(),Object(a["createBlock"])(k,{key:1})):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",r,[Object(a["createElementVNode"])("h3",c,Object(a["toDisplayString"])(this.$route.params.id?"".concat(h.user_name,"'s"):"My")+" attendances",1),this.$route.params.id?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",i,"You can find the employee's clocking times here and clock-in/out for them if needed.")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",o,"You can find your latest clocking times here. In case of any missing time, please report it to your manager or HR services.")),Object(a["createVNode"])(b),Object(a["createElementVNode"])("div",s,[l,Object(a["createVNode"])(g)]),Object(a["createElementVNode"])("div",d,[u,Object(a["createVNode"])(f)])]))}var h=n("1da1"),p=(n("96cf"),{key:0,class:"attendance__table__container"}),b={class:"attendance__table"},g=Object(a["createElementVNode"])("thead",{class:"attendance__thead"},[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{scope:"col",class:"attendance__th"},"Day"),Object(a["createElementVNode"])("th",{scope:"col",class:"attendance__th"},"Scheduled times"),Object(a["createElementVNode"])("th",{scope:"col",class:"attendance__th"},"Worked times"),Object(a["createElementVNode"])("th",{scope:"col",class:"attendance__th"},"Hours this week")])],-1),f={class:"attendance__tbody"};function k(e,t,n,r,c,o){var i=this,s=Object(a["resolveComponent"])("AttendanceCard"),l=Object(a["resolveComponent"])("loading");return c.isAttendanceListLoading?(Object(a["openBlock"])(),Object(a["createBlock"])(l,{key:1,active:c.isAttendanceListLoading,"can-cancel":!1,"is-full-page":!1},null,8,["active"])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",p,[Object(a["createElementVNode"])("table",b,[g,Object(a["createElementVNode"])("tbody",f,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.weekDates,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(s,{key:e.id,day:e,scheduleArray:i.schedule,clocksArray:i.clocks},null,8,["day","scheduleArray","clocksArray"])})),128))])])]))}n("d3b7"),n("3ca3"),n("ddb0");var y={class:"attendance__td"},v={key:0,class:"attendance__td"},O={key:1,class:"attendance__td"},j={key:2,class:"attendance__td"},_={key:3,class:"attendance__td"},w={class:"attendance__td"};function N(e,t,n,r,c,o){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",null,[Object(a["createElementVNode"])("td",y,Object(a["toDisplayString"])(c.formattedDate),1),0!==c.schedule.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",v,Object(a["toDisplayString"])(c.scheduleStart)+" - "+Object(a["toDisplayString"])(c.scheduleEnd),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",O," Free ")),0!==c.clocks.length?(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",j,Object(a["toDisplayString"])(c.clockStart)+" - "+Object(a["toDisplayString"])(c.clockEnd),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("td",_," Absent ")),Object(a["createElementVNode"])("td",w,Object(a["toDisplayString"])(c.total)+" "+Object(a["toDisplayString"])(c.total?"hours":""),1)])}var B=n("c1df"),C=n.n(B),E=n("ed08");C()().format();var V={name:"AttendanceCard",props:["day","scheduleArray","clocksArray"],mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$route.params.id?e.user_id=e.$route.params.id:e.user_id=e.$store.state.user.id,0!==e.clocksArray.length&&(e.clocks=E["a"].getTodaysClockingTimes(e.clocksArray,e.day),e.clockStart=e.clocks[e.clocks.length-1],e.clockEnd=e.clocks[0],e.total=E["a"].calculateHoursBetweenClockingTimes(e.clockStart,e.clockEnd)),0!==e.scheduleArray.length&&(e.schedule=E["a"].getTodaysWorkingTimes(e.clocksArray,e.day),e.scheduleStart=C()(e.schedule[0].start).format("HH:mm"),e.scheduleEnd=C()(e.schedule[0].end).format("HH:mm"));case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{user_id:"",formattedDate:C()(this.day).format("DD/MM/YYYY (ddd)"),schedule:[],scheduleStart:"",scheduleEnd:"",clocks:[],clockStart:"",clockEnd:"",total:""}}},x=n("6b0d"),S=n.n(x);const D=S()(V,[["render",N]]);var A=D,L=n("365c"),$=n("9062"),M=n.n($);n("e40d");C()().format();var F={name:"AttendanceList",components:{AttendanceCard:A,Loading:M.a},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.weekDates=E["a"].getDaysBetweenDates(e.startOfWeek,e.endOfWeek),e.$route.params.id?e.user_id=e.$route.params.id:e.user_id=e.$store.state.user.id,t.next=4,Promise.all([L["a"].getWorkingTimesFromUser(e.user_id),L["a"].getAttendancesFromUser(e.user_id)]);case 4:n=t.sent,e.schedule=n[0],e.clocks=n[1],console.log(e.schedule,e.clocks),e.isAttendanceListLoading=!1;case 9:case"end":return t.stop()}}),t)})))()},data:function(){return{weekDates:[],startOfWeek:C()().startOf("week"),endOfWeek:C()().endOf("week"),schedule:[],clocks:[],isAttendanceListLoading:!0}}};const T=S()(F,[["render",k]]);var Y=T,H=(n("99af"),{class:"attendance__latest__container"}),P={key:0,class:"text-lg font-semibold"},R={key:1,class:"text-lg font-semibold"};function U(e,t,n,r,c,o){return Object(a["openBlock"])(),Object(a["createElementBlock"])("div",H,[c.attendance?(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",P,Object(a["toDisplayString"])(this.$route.params.id?"This employee":"You")+" "+Object(a["toDisplayString"])(c.attendance.status?"clocked-in":"clocked-out")+" on "+Object(a["toDisplayString"])("".concat(c.latestClockingData.day,", ").concat(c.latestClockingData.date," at ").concat(c.latestClockingData.time,".")),1)):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",R,Object(a["toDisplayString"])(this.$route.params.id?"This employee has'nt":"You haven't")+" clocked-in yet.",1)),Object(a["createElementVNode"])("div",null,[c.attendance.status?(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:0,onClick:t[0]||(t[0]=function(){return o.userClocking&&o.userClocking.apply(o,arguments)}),class:"app-button text-lg text-white bg-red-500 hover:bg-red-800"},"Clock-out")):(Object(a["openBlock"])(),Object(a["createElementBlock"])("button",{key:1,onClick:t[1]||(t[1]=function(){return o.userClocking&&o.userClocking.apply(o,arguments)}),class:"app-button text-lg text-white bg-green-500 hover:bg-green-800"},"Clock-in"))])])}C()().format();var z={name:"LatestAttendance",mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$route.params.id?e.user_id=e.$route.params.id:e.user_id=e.$store.state.user.id,t.next=3,L["a"].getLastAttendanceFromUser(e.user_id);case 3:e.attendance=t.sent,e.getDateFromDatetime(e.attendance.time);case 5:case"end":return t.stop()}}),t)})))()},methods:{getDateFromDatetime:function(e){var t=C()(e);this.latestClockingData.day=t.format("dddd"),this.latestClockingData.date=t.format("DD/MM/YYYY"),this.latestClockingData.time=t.format("HH:mm:ss")},userClocking:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L["a"].userClocking(e.user_id);case 2:e.$router.go();case 3:case"end":return t.stop()}}),t)})))()}},data:function(){return{user_id:"",attendance:[],latestClockingData:{}}}};const I=S()(z,[["render",U]]);var W=I,X={key:0,class:"attendance__table__container"},J={class:"attendance__table"},G=Object(a["createElementVNode"])("thead",{class:"attendance__thead"},[Object(a["createElementVNode"])("tr",null,[Object(a["createElementVNode"])("th",{scope:"col",class:"attendance__th"},"Type"),Object(a["createElementVNode"])("th",{scope:"col",class:"attendance__th"},"Day"),Object(a["createElementVNode"])("th",{scope:"col",class:"attendance__th"},"Time")])],-1),Q={class:"attendance__tbody"},q={key:1};function K(e,t,n,r,c,o){var i=Object(a["resolveComponent"])("ClockingHistoryCard");return c.attendance?(Object(a["openBlock"])(),Object(a["createElementBlock"])("div",X,[Object(a["createElementVNode"])("table",J,[G,Object(a["createElementVNode"])("tbody",Q,[(Object(a["openBlock"])(!0),Object(a["createElementBlock"])(a["Fragment"],null,Object(a["renderList"])(c.attendance,(function(e){return Object(a["openBlock"])(),Object(a["createBlock"])(i,{key:e.id,element:e},null,8,["element"])})),128))])])])):(Object(a["openBlock"])(),Object(a["createElementBlock"])("span",q,"You haven't done any clocking yet, or they aren't on record!"))}var Z={class:"attendance__td"},ee={class:"attendance__td"},te={class:"attendance__td"};function ne(e,t,n,r,c,o){return Object(a["openBlock"])(),Object(a["createElementBlock"])("tr",null,[Object(a["createElementVNode"])("td",Z,Object(a["toDisplayString"])(n.element.status?"Clock-in":"Clock-out"),1),Object(a["createElementVNode"])("td",ee,Object(a["toDisplayString"])(this.date),1),Object(a["createElementVNode"])("td",te,Object(a["toDisplayString"])(this.time),1)])}C()().format();var ae={name:"ClockingHistoryCard",props:{element:{}},data:function(){return{date:C()(this.element.time).format("DD/MM/YYYY (ddd)"),time:C()(this.element.time).format("HH:mm:ss")}}};const re=S()(ae,[["render",ne]]);var ce=re,oe={name:"ClockingHistory",components:{ClockingHistoryCard:ce},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$route.params.id?e.user_id=e.$route.params.id:e.user_id=e.$store.state.user.id,t.next=3,L["a"].getAttendancesFromUser(e.user_id);case 3:e.attendance=t.sent;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{user_id:"",attendance:[]}}};const ie=S()(oe,[["render",K]]);var se=ie,le=n("a265"),de={name:"Attendance",components:{Unauthorized:le["a"],AttendanceList:Y,LatestAttendance:W,ClockingHistory:se},mounted:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,L["a"].getUser(e.$route.params.id);case 2:e.user_name=t.sent.data.data.username;case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{user_name:""}}};const ue=S()(de,[["render",m]]);t["default"]=ue},e40d:function(e,t,n){}}]);
//# sourceMappingURL=chunk-d46e71e0.71ae5d65.js.map