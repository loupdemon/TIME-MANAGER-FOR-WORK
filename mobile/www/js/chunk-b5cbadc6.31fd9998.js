(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b5cbadc6"],{4169:function(e,t,r){"use strict";var n=r("7a23"),o=Object(n["createTextVNode"])(" Modify "),a={key:0,class:"overflow-x-hidden text-black overflow-y-auto fixed inset-0 z-50 outline-none focus:outline-none justify-center items-center flex"},c={class:"relative w-auto my-6 mx-auto max-w-3xl"},l={class:"border-0 rounded-lg shadow-lg relative flex flex-col w-full bg-white outline-none focus:outline-none"},s={class:"flex items-start justify-between p-5 border-b border-solid border-blueGray-200 rounded-t"},d=Object(n["createTextVNode"])(" Modal Title "),i=Object(n["createElementVNode"])("span",{class:"bg-transparent text-black opacity-5 h-6 w-6 text-2xl block outline-none focus:outline-none"}," Ã— ",-1),u=[i],b={class:"relative p-6 flex-auto"},m=Object(n["createTextVNode"])("..."),p={class:"flex items-center justify-end p-6 border-t border-solid border-blueGray-200 rounded-b"},f=Object(n["createTextVNode"])(" Save Changes "),j={key:1,class:"opacity-25 fixed inset-0 z-40 bg-black"};function O(e,t,r,i,O,h){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["createElementVNode"])("button",{class:"font-bold",type:"button",onClick:t[0]||(t[0]=function(e){return h.toggleModal()})},[Object(n["renderSlot"])(e.$slots,"buttonName",{},(function(){return[o]}))]),O.showModal?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",a,[Object(n["createElementVNode"])("div",c,[Object(n["createElementVNode"])("div",l,[Object(n["createElementVNode"])("div",s,[Object(n["renderSlot"])(e.$slots,"title",{},(function(){return[d]})),Object(n["createElementVNode"])("button",{class:"p-1 ml-auto bg-transparent border-0 text-black opacity-5 float-right text-3xl leading-none font-semibold outline-none focus:outline-none",onClick:t[1]||(t[1]=function(e){return h.toggleModal()})},u)]),Object(n["createElementVNode"])("div",b,[Object(n["renderSlot"])(e.$slots,"body",{},(function(){return[m]}))]),Object(n["createElementVNode"])("div",p,[Object(n["createElementVNode"])("button",{class:"text-blue-500 bg-transparent border border-solid border-blue-500 hover:bg-blue-500 hover:text-white active:bg-blue-600 font-bold uppercase text-sm px-6 py-3 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:t[2]||(t[2]=function(e){return h.toggleModal()})}," Close "),Object(n["createElementVNode"])("button",{class:"text-blue-500 bg-transparent border border-solid border-blue-500 hover:bg-blue-500 hover:text-white active:bg-blue-600 font-bold uppercase text-sm px-6 py-3 rounded outline-none focus:outline-none mr-1 mb-1 ease-linear transition-all duration-150",type:"button",onClick:t[3]||(t[3]=function(e){return h.saveChanges()})},[Object(n["renderSlot"])(e.$slots,"button",{},(function(){return[f]}))])])])])])):Object(n["createCommentVNode"])("",!0),O.showModal?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",j)):Object(n["createCommentVNode"])("",!0)])}var h={name:"large-modal",data:function(){return{showModal:!1}},methods:{toggleModal:function(){this.showModal=!this.showModal},saveChanges:function(){this.$emit("save")}}},v=r("6b0d"),x=r.n(v);const y=x()(h,[["render",O]]);t["a"]=y},"437a":function(e,t,r){"use strict";r("7ece")},"4fad":function(e,t,r){var n=r("23e7"),o=r("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return o(e)}})},"66aa":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),o={key:0,class:"main__container"},a={class:"profile__top"},c={key:0,class:"view-title"},l={key:1,class:"view-title"},s={class:"profile__user__content"},d={class:"profile__details"},i={class:"flex flex-row items-center"},u=Object(n["createElementVNode"])("h3",{class:"view-title"},"Summary",-1),b=Object(n["createTextVNode"])("Details"),m={class:"profile__chart__container"};function p(e,t,r,p,f,j){var O=Object(n["resolveComponent"])("UserProfile"),h=Object(n["resolveComponent"])("UserWorkedHours"),v=Object(n["resolveComponent"])("router-link"),x=Object(n["resolveComponent"])("UserWeeklyBarChart"),y=Object(n["resolveComponent"])("UserMonthlyBarChart"),g=Object(n["resolveComponent"])("UserOvertimeLineChart"),V=Object(n["resolveComponent"])("Unauthorized");return this.$route.params.id&&"Manager"!==this.$store.state.user.role&&"General Manager"!==this.$store.state.user.role?(Object(n["openBlock"])(),Object(n["createBlock"])(V,{key:1})):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",a,[this.$route.params.id?(Object(n["openBlock"])(),Object(n["createElementBlock"])("h3",l,Object(n["toDisplayString"])(f.user_name)+"'s profile",1)):(Object(n["openBlock"])(),Object(n["createElementBlock"])("h3",c,"My profile")),Object(n["createElementVNode"])("div",s,[Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(O,{ref:"userprofile"},null,512)]),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(h)])])]),Object(n["createElementVNode"])("div",d,[Object(n["createElementVNode"])("div",i,[u,Object(n["createVNode"])(v,{to:"/attendance/".concat(this.$route.params.id?this.$route.params.id:""),class:"app-button text-sm bg-blue-500 text-white hover:bg-blue-800"},{default:Object(n["withCtx"])((function(){return[b]})),_:1},8,["to"])]),Object(n["createElementVNode"])("div",m,[Object(n["createVNode"])(x),Object(n["createVNode"])(y),Object(n["createVNode"])(g)])])]))}var f=r("1da1"),j=(r("96cf"),r("365c")),O=function(e){return Object(n["pushScopeId"])("data-v-5e860690"),e=e(),Object(n["popScopeId"])(),e},h={class:"userprofile__container"},v={class:"userprofile__current"},x=["src"],y={class:"userprofile__curent__right"},g={class:"userprofile__field"},V={class:"font-semibold text-lg"},N={class:"userprofile__field"},w={class:"text-xs text-gray-500 mb-3"},E={class:"userprofile__field"},k=O((function(){return Object(n["createElementVNode"])("span",{class:"font-semibold text-sm"},"Job : ",-1)})),_={class:"text-xs font-semibold"},C=O((function(){return Object(n["createElementVNode"])("div",{class:"userprofile__field"},[Object(n["createElementVNode"])("span",{class:"font-semibold text-sm"},"Team : "),Object(n["createElementVNode"])("span",{class:"text-xs font-semibold"},"R&D")],-1)})),U={class:"mt-5"},B=O((function(){return Object(n["createElementVNode"])("span",{class:"font-semibold text-sm"},"Role : ",-1)})),M={class:"text-xs"},S={class:"font-bold py-1 px-2 rounded ease-linear transition-all duration-150 bg-yellow-400 text-sm text-white hover:bg-yellow-600"},T=Object(n["createTextVNode"])("Edit profile"),$=O((function(){return Object(n["createElementVNode"])("span",{class:"font-semibold"},"Edit my profile",-1)})),D=O((function(){return Object(n["createElementVNode"])("td",{class:"flex flex-row items-center"},[Object(n["createElementVNode"])("span",{class:"self-start mr-2"},"Username:")],-1)})),W=["placeholder"],R=O((function(){return Object(n["createElementVNode"])("td",{class:"flex flex-row items-center"},[Object(n["createElementVNode"])("span",{class:"self-start"},"Email:")],-1)})),L=["placeholder"],z=O((function(){return Object(n["createElementVNode"])("td",{class:"flex flex-row items-center"},[Object(n["createElementVNode"])("span",{class:"self-start"},"Job:")],-1)})),I=["placeholder"],Y=O((function(){return Object(n["createElementVNode"])("td",{class:"flex flex-row items-center"},[Object(n["createElementVNode"])("span",{class:"self-start"},"Role:")],-1)})),A=["value"],F=Object(n["createTextVNode"])("Yes"),G={class:"font-bold py-1 px-2 rounded ease-linear transition-all duration-150 bg-red-500 text-sm text-white hover:bg-red-600"},H=Object(n["createTextVNode"])("Delete account"),J=O((function(){return Object(n["createElementVNode"])("span",{class:"font-semibold"},"Delete user",-1)})),P=O((function(){return Object(n["createElementVNode"])("form",null,[Object(n["createElementVNode"])("div",{class:"mb-3"},[Object(n["createElementVNode"])("label",null," Are you sure ? ")])],-1)})),Q=Object(n["createTextVNode"])("Yes");function q(e,t,r,o,a,c){var l=this,s=Object(n["resolveComponent"])("Modal");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",h,[Object(n["createElementVNode"])("div",v,[Object(n["createElementVNode"])("img",{class:"userprofile__avatar",src:a.user.photo,alt:"avatar"},null,8,x),Object(n["createElementVNode"])("div",y,[Object(n["createElementVNode"])("div",g,[Object(n["createElementVNode"])("span",V,Object(n["toDisplayString"])(a.user.username),1)]),Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("span",w,Object(n["toDisplayString"])(a.user.email),1)]),Object(n["createElementVNode"])("div",E,[k,Object(n["createElementVNode"])("span",_,Object(n["toDisplayString"])(a.user.job),1)]),C,Object(n["createElementVNode"])("div",U,[B,Object(n["createElementVNode"])("span",M,Object(n["toDisplayString"])(a.user.role),1)]),Object(n["createElementVNode"])("button",S,[Object(n["createVNode"])(s,{onSave:c.updateUser},{buttonName:Object(n["withCtx"])((function(){return[T]})),title:Object(n["withCtx"])((function(){return[$]})),body:Object(n["withCtx"])((function(){return[Object(n["createElementVNode"])("table",null,[Object(n["createElementVNode"])("tr",null,[D,Object(n["createElementVNode"])("td",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.payload.username=e}),class:"text-sm px-2 py-1 border border-gray-300 hover:border-blue-500 rounded-md",type:"text",placeholder:l.user.username},null,8,W),[[n["vModelText"],l.payload.username]])])]),Object(n["createElementVNode"])("tr",null,[R,Object(n["createElementVNode"])("td",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.payload.email=e}),class:"text-sm px-2 py-1 border border-gray-300 hover:border-blue-500 rounded-md",type:"text",placeholder:l.user.email},null,8,L),[[n["vModelText"],l.payload.email]])])]),Object(n["createElementVNode"])("tr",null,[z,Object(n["createElementVNode"])("td",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return l.payload.job=e}),class:"text-sm px-2 py-1 border border-gray-300 hover:border-blue-500 rounded-md",type:"text",placeholder:l.user.job},null,8,I),[[n["vModelText"],l.payload.job]])])]),Object(n["createElementVNode"])("tr",null,[Y,Object(n["createElementVNode"])("td",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return l.payload.role=e}),class:"border rounded-md border-gray-500 px-2 py-1"},[(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(["User","Team Manager","General Manager"],(function(e,t){return Object(n["createElementVNode"])("option",{key:t,value:e},Object(n["toDisplayString"])(e),9,A)})),64))],512),[[n["vModelSelect"],l.payload.role]])])])])]})),button:Object(n["withCtx"])((function(){return[F]})),_:1},8,["onSave"])]),Object(n["createElementVNode"])("button",G,[Object(n["createVNode"])(s,{onSave:c.deleteUser},{buttonName:Object(n["withCtx"])((function(){return[H]})),title:Object(n["withCtx"])((function(){return[J]})),body:Object(n["withCtx"])((function(){return[P]})),button:Object(n["withCtx"])((function(){return[Q]})),_:1},8,["onSave"])])])])])}function K(e){if(Array.isArray(e))return e}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");function X(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,a=[],c=!0,l=!1;try{for(r=r.call(e);!(c=(n=r.next()).done);c=!0)if(a.push(n.value),t&&a.length===t)break}catch(s){l=!0,o=s}finally{try{c||null==r["return"]||r["return"]()}finally{if(l)throw o}}return a}}var Z=r("06c5");function ee(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function te(e,t){return K(e)||X(e,t)||Object(Z["a"])(e,t)||ee()}r("c1f9"),r("4de4"),r("4fad");var re=r("4169"),ne={name:"UserProfile",data:function(){return{user:{id:void 0,username:void 0,email:void 0,role:void 0,photo:void 0,job:void 0},show:!1,payload:{username:void 0,email:void 0,role:void 0,job:void 0}}},components:{Modal:re["a"]},props:{method:{type:Function}},mounted:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.id){t.next=6;break}return t.next=3,j["a"].getUser(e.$route.params.id);case 3:e.user=t.sent.data.data,t.next=9;break;case 6:return t.next=8,j["a"].getUser(e.$store.state.user.id);case 8:e.user=t.sent.data.data;case 9:case"end":return t.stop()}}),t)})))()},methods:{closeModal:function(){this.isModalVisible=!1},launchModal:function(){this.isModalVisible=!0},updateUser:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.show=!e.show,r=Object.fromEntries(Object.entries(e.payload).filter((function(e){var t=te(e,2),r=(t[0],t[1]);return null!=r}))),t.next=4,j["a"].updateUser(e.user.id,r);case 4:n=t.sent.data.data,e.$store.state.user.role=n.role,console.log(e.$store.state.user.role),e.$router.go();case 8:case"end":return t.stop()}}),t)})))()},deleteUser:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j["a"].deleteUser(e.user.id);case 2:case"end":return t.stop()}}),t)})))()}}},oe=(r("437a"),r("6b0d")),ae=r.n(oe);const ce=ae()(ne,[["render",q],["__scopeId","data-v-5e860690"]]);var le=ce,se={class:"user__worked__hours__container"},de=Object(n["createElementVNode"])("span",{class:"font-semibold mr-1"},"This week",-1),ie=Object(n["createTextVNode"])("More"),ue=Object(n["createStaticVNode"])('<table class="mt-3 px-3"><tbody><tr><td class="text-sm pr-3">Monday</td><td class="text-sm">8:00:00 to 17:00:00</td><td><button class="app-button text-xs text-yellow-500 hover:bg-yellow-100">Change</button></td></tr><tr><td class="text-sm pr-3">Tuesday</td><td class="text-sm">8:00:00 to 17:00:00</td><td><button class="app-button text-xs text-yellow-500 hover:bg-yellow-100">Change</button></td></tr><tr><td class="text-sm pr-3">Wednesday</td><td class="text-sm">8:00:00 to 17:00:00</td><td><button class="app-button text-xs text-yellow-500 hover:bg-yellow-100">Change</button></td></tr><tr><td class="text-sm pr-3">Thursday</td><td class="text-sm">8:00:00 to 17:00:00</td><td><button class="app-button text-xs text-yellow-500 hover:bg-yellow-100">Change</button></td></tr><tr><td class="text-sm pr-3">Friday</td><td class="text-sm">8:00:00 to 17:00:00</td><td><button class="app-button text-xs text-yellow-500 hover:bg-yellow-100">Change</button></td></tr></tbody></table>',1);function be(e,t,r,o,a,c){var l=Object(n["resolveComponent"])("router-link");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",se,[de,Object(n["createVNode"])(l,{to:"/schedule/".concat(this.$route.params.id?this.$route.params.id:""),class:"app-button text-xs bg-blue-500 text-white hover:bg-blue-800"},{default:Object(n["withCtx"])((function(){return[ie]})),_:1},8,["to"]),ue])}var me={name:"UserWorkedHours"};const pe=ae()(me,[["render",be]]);var fe=pe;function je(e,t,r,o,a,c){var l=Object(n["resolveComponent"])("WeeklyBarChart");return this.isLoaded?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:0,data:this.chartData,labels:this.chartLabels,color:this.color},null,8,["data","labels","color"])):Object(n["createCommentVNode"])("",!0)}r("159b");var Oe=r("4fdc"),he=r("ed08"),ve={name:"UserWeeklyBarChart",components:{WeeklyBarChart:Oe["a"]},mounted:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$route.params.id?e.user_id=e.$route.params.id:e.user_id=e.$store.state.user.id,e.startOfWeek=he["a"].getStartOfWeek(),e.endOfWeek=he["a"].getEndOfWeek(),e.chartLabels=he["a"].getDaysBetweenDates(e.startOfWeek,e.endOfWeek),t.next=6,e.getUserWeeklyData();case 6:e.chartData=t.sent,e.isLoaded=!0;case 8:case"end":return t.stop()}}),t)})))()},methods:{getUserWeeklyData:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,j["a"].getAttendancesFromUser(e.user_id);case 2:return e.clocks=t.sent,o=[],e.chartLabels.forEach((function(t){r=he["a"].getTodaysClockingTimes(e.clocks,t),n=he["a"].calculateHoursBetweenClockingTimes(r[r.length-1],r[0]),o.push(n)})),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})))()}},data:function(){return{user_id:"",clocks:[],startOfWeek:null,endOfWeek:null,isLoaded:!1,chartData:[],chartLabels:[],color:"rgba(173, 216, 230, 0.5)"}}};const xe=ae()(ve,[["render",je]]);var ye=xe,ge=r("f361"),Ve=r("a265"),Ne=r("8b19"),we={name:"Profile",components:{Unauthorized:Ve["a"],UserProfile:le,UserWorkedHours:fe,UserWeeklyBarChart:ye,UserMonthlyBarChart:ge["a"],UserOvertimeLineChart:Ne["a"]},mounted:function(){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.id){t.next=5;break}return t.next=3,j["a"].getUser(e.$route.params.id);case 3:r=t.sent.data.data,e.user_name=r.username;case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{user_id:"",user_name:""}}};const Ee=ae()(we,[["render",p]]);t["default"]=Ee},"6f53":function(e,t,r){var n=r("83ab"),o=r("e330"),a=r("df75"),c=r("fc6a"),l=r("d1e7").f,s=o(l),d=o([].push),i=function(e){return function(t){var r,o=c(t),l=a(o),i=l.length,u=0,b=[];while(i>u)r=l[u++],n&&!s(o,r)||d(b,e?[r,o[r]]:o[r]);return b}};e.exports={entries:i(!0),values:i(!1)}},"7ece":function(e,t,r){},a265:function(e,t,r){"use strict";var n=r("7a23"),o={class:"main__container"},a=Object(n["createElementVNode"])("div",{class:"error__content flex flex-col items-center mb-8"},[Object(n["createElementVNode"])("h3",{class:"view-title"},"403 Forbidden"),Object(n["createElementVNode"])("span",{class:"text-center mb-5"},"You're not authorized to view this page."),Object(n["createElementVNode"])("img",{src:"https://media1.giphy.com/media/zCpYQh5YVhdI1rVYpE/giphy.gif",alt:"Unauthorized Image"})],-1),c=[a];function l(e,t,r,a,l,s){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,c)}var s={name:"Unauthorized"},d=r("6b0d"),i=r.n(d);const u=i()(s,[["render",l]]);t["a"]=u},c1f9:function(e,t,r){var n=r("23e7"),o=r("2266"),a=r("8418");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,r){a(t,e,r)}),{AS_ENTRIES:!0}),t}})}}]);
//# sourceMappingURL=chunk-b5cbadc6.31fd9998.js.map